<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlusPlan: Asesoría Política y Estratégica con Visión Tecnológica</title>
    <!-- Tailwind CSS CDN para estilos rápidos y responsivos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN para gráficos interactivos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts - Inter para la tipografía -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Estilos base para el cuerpo y colores personalizados de la marca */
        body {
            background-color: #030C1D; /* Azul oscuro principal */
            color: #FFFFFF; /* Texto blanco por defecto */
            font-family: 'Inter', sans-serif; /* Fuente Inter */
        }
        /* Clases de color Tailwind personalizadas */
        .bg-primary-dark { background-color: #030C1D; }
        .bg-accent-yellow { background-color: #FFBB00; } /* Amarillo de acento */
        .text-accent-yellow { color: #FFBB00; }
        .border-accent-yellow { border-color: #FFBB00; }
        .bg-accent-red { background-color: #F40000; } /* Rojo de acento */
        .text-accent-red { color: #F40000; }

        /* Espaciado responsivo para secciones */
        .section-padding {
            padding: 4rem 1.5rem; /* Padding por defecto para móviles */
        }
        @media (min-width: 768px) {
            .section-padding {
                padding: 6rem 2rem; /* Mayor padding en pantallas más grandes */
            }
        }

        /* Contenedores de gráficos para asegurar dimensiones responsivas */
        .chart-container {
            position: relative;
            margin: auto;
            height: 320px;
            width: 100%;
            max-width: 450px; /* Ancho máximo para mantener la legibilidad */
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
                max-width: 500px;
            }
        }

        /* Estilos para el diagrama de flujo (Campaign Boot Camp) */
        .flowchart-step {
            position: relative;
            padding-left: 2.5rem; /* Espacio para el punto y la línea */
            padding-bottom: 2.5rem; /* Espacio entre pasos */
            border-left: 3px solid #FFBB00; /* Línea vertical de acento */
        }
        .flowchart-step:last-child {
            border-left: 3px solid transparent; /* Elimina la línea en el último paso */
        }
        .flowchart-dot {
            position: absolute;
            left: -0.8rem; /* Posiciona el punto sobre la línea */
            top: 0;
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 9999px; /* Hace el punto circular */
            background-color: #FFBB00; /* Color del punto */
            border: 3px solid #030C1D; /* Borde para que resalte sobre el fondo */
        }

        /* Estilos para el spinner de carga */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3); /* Color base del spinner */
            border-top: 4px solid #FFBB00; /* Color de la parte animada */
            border-radius: 50%; /* Forma circular */
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite; /* Animación de giro */
            display: inline-block;
            vertical-align: middle;
            margin-right: 8px;
        }
        /* Definición de la animación de giro */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-primary-dark">

    <!-- Encabezado de la página con navegación y botón de contacto -->
    <header class="bg-primary-dark/80 backdrop-blur-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-accent-yellow">PLUS<span class="text-white">PLAN</span></h1>
            <a href="#contact" class="bg-accent-yellow text-primary-dark font-bold py-2 px-4 rounded-lg hover:bg-yellow-400 transition-colors">Contacto</a>
        </nav>
    </header>

    <main>
        <!-- Sección Hero: Introducción principal y llamado a la acción -->
        <section id="hero" class="min-h-screen flex items-center section-padding bg-cover bg-center" style="background-image: linear-gradient(rgba(3, 12, 29, 0.8), rgba(3, 12, 29, 1)), url('https://placehold.co/1200x800/030C1D/FFFFFF?text=Visión+Estratégica');">
            <div class="container mx-auto text-center">
                <h1 class="text-4xl md:text-6xl font-black text-white leading-tight mb-4">Asesoría Política y Estratégica con <span class="text-accent-yellow">Visión Tecnológica</span></h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8">Transformamos el liderazgo y la gestión pública para un impacto real, integrando estrategia, tecnología y comunicación.</p>
                <div class="flex justify-center gap-4">
                    <a href="#services" class="bg-accent-yellow text-primary-dark font-bold py-3 px-8 rounded-lg text-lg hover:bg-yellow-400 transition-colors">Nuestros Servicios</a>
                    <a href="#contact" class="bg-transparent border-2 border-white text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-white hover:text-primary-dark transition-colors">Solicitar Asesoría</a>
                </div>
            </div>
        </section>

        <!-- Sección Filosofía: Pilares de la empresa -->
        <section id="philosophy" class="section-padding">
            <div class="container mx-auto">
                <div class="text-center mb-12">
                     <h2 class="text-3xl md:text-4xl font-bold">Innovación y Percepción para el Liderazgo del Mañana</h2>
                </div>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div class="bg-gray-800/20 p-8 rounded-lg">
                        <span class="text-5xl text-accent-yellow">&#128187;</span> <!-- Icono de laptop/tecnología -->
                        <h3 class="text-2xl font-bold my-4">La Tecnología es el Presente</h3>
                        <p>Te ayudamos a diagnosticar y aprovechar todo el potencial tecnológico para tus objetivos.</p>
                    </div>
                    <div class="bg-gray-800/20 p-8 rounded-lg">
                        <span class="text-5xl text-accent-yellow">&#128065;</span> <!-- Icono de ojo/percepción -->
                        <h3 class="text-2xl font-bold my-4">No Basta con Tener Razón</h3>
                        <p>Construimos y proyectamos tu visión con intención, inteligencia y una imagen que es tu estrategia más poderosa.</p>
                    </div>
                    <div class="bg-gray-800/20 p-8 rounded-lg">
                        <span class="text-5xl text-accent-yellow">&#129504;</span> <!-- Icono de cerebro/coherencia -->
                        <h3 class="text-2xl font-bold my-4">Una Imagen Coherente</h3>
                        <p>Transformamos el liderazgo ayudándote a construir una narrativa sólida y una imagen creíble que resuene.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Servicios: Detalle de las ofertas de PlusPlan -->
        <section id="services" class="section-padding bg-gray-900/40">
            <div class="container mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold">Servicios Integrales de PlusPlan</h2>
                    <p class="mt-4 max-w-2xl mx-auto">Ofrecemos una gama completa de asesorías diseñadas para optimizar tu impacto, combinando experiencia política con vanguardia tecnológica.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-primary-dark p-8 rounded-lg shadow-lg">
                        <h3 class="text-xl font-bold text-accent-yellow mb-3">Inteligencia Artificial y Software</h3>
                        <p class="mb-4">Potenciamos tu gestión con herramientas digitales avanzadas.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Automatización de tareas</li>
                            <li>Chatbots personalizados 24/7</li>
                            <li>Dashboards inteligentes</li>
                            <li>Integración de sistemas</li>
                        </ul>
                    </div>
                    <div class="bg-primary-dark p-8 rounded-lg shadow-lg">
                        <h3 class="text-xl font-bold text-accent-yellow mb-3">Imagen y Marketing Político</h3>
                        <p class="mb-4">Construimos y posicionamos tu marca para conectar eficazmente.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Narrativas de impacto</li>
                            <li>Diagnóstico de imagen pública</li>
                            <li>Producción de contenido con visión</li>
                            <li>Análisis de opinión pública</li>
                        </ul>
                    </div>
                    <div class="bg-primary-dark p-8 rounded-lg shadow-lg md:col-span-2 lg:col-span-1">
                        <h3 class="text-xl font-bold text-accent-yellow mb-3">Imagen Pública para Candidatos</h3>
                        <p class="mb-4">Posicionamos tu nombre, historia y visión para que te escuchen y crean.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Diagnóstico de percepción</li>
                            <li>Construcción de narrativa</li>
                            <li>Producción audiovisual</li>
                            <li>Estrategias de redes y medios</li>
                        </ul>
                    </div>
                </div>
                <!-- Gráfico de distribución de clientes -->
                <div class="mt-16 text-center">
                    <h3 class="text-2xl font-bold mb-4">Nuestra Distribución de Clientes</h3>
                    <p class="max-w-2xl mx-auto mb-8">Brindamos soluciones a medida para un espectro diverso de líderes y organizaciones que buscan generar un cambio positivo.</p>
                    <div class="chart-container">
                        <canvas id="clientDonutChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Campaign Boot Camp: Programa de formación -->
        <section id="bootcamp" class="section-padding">
            <div class="container mx-auto">
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div>
                        <h2 class="text-3xl md:text-4xl font-bold mb-4">Campaign Boot Camp: <span class="text-accent-yellow">Guía para Formar Liderazgos</span></h2>
                        <p class="mb-6">Una experiencia intensiva y práctica basada en la visión de Cristina Pelosi. Te equipamos con las herramientas y estrategias para navegar el complejo panorama político y social actual.</p>
                        <!-- Diagrama de flujo de módulos -->
                        <div class="flowchart">
                            <div class="flowchart-step">
                                <div class="flowchart-dot"></div>
                                <h4 class="font-bold text-lg">Módulo 1: Fundamentos Estratégicos</h4>
                                <p class="text-gray-400">Desarrollo de una visión clara y una narrativa auténtica.</p>
                            </div>
                            <div class="flowchart-step">
                                <div class="flowchart-dot"></div>
                                <h4 class="font-bold text-lg">Módulo 2: Comunicación de Impacto</h4>
                                <p class="text-gray-400">Técnicas de oratoria, debate y manejo de medios.</p>
                            </div>
                             <div class="flowchart-step">
                                <div class="flowchart-dot"></div>
                                <h4 class="font-bold text-lg">Módulo 3: Tecnología para Campañas</h4>
                                <p class="text-gray-400">Uso de datos, IA y herramientas digitales para la gestión.</p>
                            </div>
                            <div class="flowchart-step">
                                <div class="flowchart-dot"></div>
                                <h4 class="font-bold text-lg">Módulo 4: Liderazgo y Acción</h4>
                                <p class="text-gray-400">Implementación de un plan de acción y movilización.</p>
                            </div>
                        </div>
                         <div class="mt-8">
                            <a href="#contact" class="bg-accent-red text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-red-700 transition-colors">Inscríbete Ahora</a>
                        </div>
                        <!-- Sección de IA para generar consejos de liderazgo -->
                        <div class="mt-8 p-6 bg-gray-800/20 rounded-lg">
                            <h4 class="text-xl font-bold mb-4">Genera un Consejo de Liderazgo ✨</h4>
                            <textarea id="leadershipGoalInput" placeholder="Describe tu objetivo de liderazgo (ej: 'quiero mejorar mi comunicación pública')" rows="3" class="w-full p-3 rounded-lg bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-accent-yellow mb-4"></textarea>
                            <button id="generateLeadershipTipBtn" class="bg-accent-yellow text-primary-dark font-bold py-2 px-6 rounded-lg hover:bg-yellow-400 transition-colors flex items-center justify-center">
                                <span id="leadershipTipSpinner" class="spinner hidden"></span>
                                Generar Consejo
                            </button>
                            <div id="leadershipTipOutput" class="mt-4 p-3 bg-gray-700 rounded-lg hidden"></div>
                        </div>
                    </div>
                    <!-- Gráfico de radar de foco de servicios por cliente -->
                    <div class="text-center">
                         <h3 class="text-2xl font-bold mb-4">Foco de Nuestros Servicios por Cliente</h3>
                         <p class="max-w-2xl mx-auto mb-8">Cada tipo de cliente tiene necesidades únicas. Así adaptamos nuestra experiencia para maximizar su impacto.</p>
                        <div class="chart-container">
                            <canvas id="servicesRadarChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Por Qué PlusPlan: Ventajas competitivas -->
        <section id="why" class="section-padding bg-gray-900/40">
            <div class="container mx-auto">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold">¿Por Qué PlusPlan es Tu Aliado Estratégico?</h2>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-center">
                     <div>
                        <ul class="space-y-6">
                            <li class="flex items-start">
                                <span class="text-2xl text-accent-yellow mr-4 mt-1">&#10003;</span>
                                <div>
                                    <h4 class="font-bold text-lg">Experiencia Comprobada</h4>
                                    <p class="text-gray-400">Años de trayectoria asesorando a líderes y organizaciones.</p>
                                </div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-2xl text-accent-yellow mr-4 mt-1">&#10003;</span>
                                <div>
                                    <h4 class="font-bold text-lg">Innovación Constante</h4>
                                    <p class="text-gray-400">Integración de las últimas tendencias en IA y software.</p>
                                </div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-2xl text-accent-yellow mr-4 mt-1">&#10003;</span>
                                <div>
                                    <h4 class="font-bold text-lg">Resultados Medibles</h4>
                                    <p class="text-gray-400">Enfoque en estrategias que generan impacto real y cuantificable.</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <!-- Gráfico polar de visión 360 -->
                    <div class="text-center">
                        <h3 class="text-2xl font-bold mb-4">Componentes de Nuestra Visión 360°</h3>
                        <p class="max-w-2xl mx-auto mb-8">"Desde el cielo lo vemos todo". Nuestra metodología integra múltiples fuentes de inteligencia para una comprensión completa del entorno.</p>
                        <div class="chart-container">
                            <canvas id="visionPolarChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Testimonios: Citas de clientes satisfechos -->
        <section id="testimonials" class="section-padding">
            <div class="container mx-auto">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold">Historias de Éxito con PlusPlan</h2>
                    <p class="mt-4 max-w-2xl mx-auto">La mejor prueba de nuestro impacto son los resultados de nuestros clientes.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-8">
                     <div class="bg-gray-800/20 p-8 rounded-lg text-center">
                        <p class="italic mb-4">"Gracias a PlusPlan, nuestra campaña alcanzó una conexión sin precedentes con los votantes. Su enfoque tecnológico marcó la diferencia."</p>
                        <p class="font-bold text-accent-yellow">Candidato Municipal</p>
                        <p class="text-sm text-gray-400">Elecciones 2024</p>
                    </div>
                    <div class="bg-gray-800/20 p-8 rounded-lg text-center">
                        <p class="italic mb-4">"El Campaign Boot Camp fue una revelación. Las herramientas y la guía de Cristina Pelosi son invaluables para cualquier líder."</p>
                        <p class="font-bold text-accent-yellow">Líder de ONG</p>
                        <p class="text-sm text-gray-400">Sector Desarrollo Social</p>
                    </div>
                    <div class="bg-gray-800/20 p-8 rounded-lg text-center">
                        <p class="italic mb-4">"La implementación de sus soluciones de IA optimizó nuestros procesos, permitiéndonos ser más eficientes y transparentes."</p>
                        <p class="font-bold text-accent-yellow">Director de Modernización</p>
                        <p class="text-sm text-gray-400">Gobierno Local</p>
                    </div>
                </div>
                <!-- Gráfico de barras de impacto medible -->
                <div class="mt-16 text-center">
                    <h3 class="text-2xl font-bold mb-4">Impacto Medible en Nuestros Proyectos</h3>
                    <p class="max-w-2xl mx-auto mb-8">Nos enfocamos en generar resultados tangibles. Estos son los promedios de mejora reportados por nuestros clientes tras nuestra intervención.</p>
                    <div class="chart-container max-w-4xl">
                        <canvas id="impactBarChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección Contacto: Formulario de contacto y recomendación de servicio con IA -->
        <section id="contact" class="section-padding bg-gray-900/40">
            <div class="container mx-auto max-w-3xl text-center">
                <h2 class="text-3xl md:text-4xl font-bold">Impulsa Tu Visión con PlusPlan</h2>
                <p class="mt-4 mb-8">¿Listo para transformar tu estrategia? Contáctanos hoy mismo para una asesoría personalizada.</p>
                <form id="contactForm" class="text-left">
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <input type="text" id="contactName" placeholder="Nombre Completo" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-yellow">
                        <input type="email" id="contactEmail" placeholder="Correo Electrónico" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-yellow">
                    </div>
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <input type="tel" id="contactPhone" placeholder="Teléfono" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-yellow">
                        <input type="text" id="contactOrganization" placeholder="Organización / Institución" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-yellow">
                    </div>
                    <div class="mb-6">
                        <textarea id="contactMessage" placeholder="Mensaje" rows="5" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-accent-yellow"></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="bg-accent-yellow text-primary-dark font-bold py-3 px-12 rounded-lg text-lg hover:bg-yellow-400 transition-colors flex items-center justify-center mx-auto">
                            <span id="contactSpinner" class="spinner hidden"></span>
                            Enviar Mensaje
                        </button>
                        <div id="serviceRecommendationOutput" class="mt-4 p-3 bg-gray-700 rounded-lg text-white text-left hidden"></div>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <!-- Pie de página -->
    <footer class="bg-primary-dark py-8">
        <div class="container mx-auto text-center text-gray-400">
            <p>&copy; 2025 PlusPlan. Todos los derechos reservados.</p>
            <p class="mt-2">Email: hell@plusplan.app | Tel: +502 5413-2305</p>
            <p class="mt-2">Guatemala</p>
        </div>
    </footer>

    <script>
        // Espera a que el DOM esté completamente cargado antes de ejecutar el script
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM completamente cargado. Inicializando la aplicación.');

            // Configuración común para tooltips de Chart.js
            const tooltipConfig = {
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                  return label.join(' ');
                                } else {
                                  return label;
                                }
                            }
                        }
                    }
                }
            };

            // Función para envolver etiquetas largas en gráficos
            const wrapLabel = (label, maxWidth = 16) => {
                const words = label.split(' ');
                let lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + word).length > maxWidth) {
                        lines.push(currentLine.trim());
                        currentLine = '';
                    }
                    currentLine += word + ' ';
                });
                lines.push(currentLine.trim());
                return lines;
            };

            // Inicialización del gráfico de donut (Distribución de Clientes)
            console.log('Intentando inicializar clientDonutChart.');
            const clientDonutCtx = document.getElementById('clientDonutChart');
            if(clientDonutCtx) {
                new Chart(clientDonutCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Candidatos Políticos', 'Gobiernos', 'ONGs con Causa Social'],
                        datasets: [{
                            label: 'Distribución de Clientes',
                            data: [45, 35, 20],
                            backgroundColor: ['#FFBB00', '#F40000', '#FFFFFF'],
                            borderColor: '#030C1D',
                            borderWidth: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            ...tooltipConfig.plugins, // Usa la configuración de tooltip común
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#FFFFFF',
                                    font: { size: 14 }
                                }
                            }
                        }
                    }
                });
                console.log('clientDonutChart inicializado con éxito.');
            } else {
                console.error('No se encontró el elemento canvas con ID clientDonutChart.');
            }

            // Inicialización del gráfico de radar (Foco de Servicios por Cliente)
            console.log('Intentando inicializar servicesRadarChart.');
            const servicesRadarCtx = document.getElementById('servicesRadarChart');
            if(servicesRadarCtx) {
                new Chart(servicesRadarCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Estrategia', 'Tecnología', 'Comunicación', 'Imagen Pública', 'Análisis de Datos'],
                        datasets: [
                            {
                                label: 'Candidatos',
                                data: [8, 6, 9, 10, 7],
                                fill: true,
                                backgroundColor: 'rgba(255, 187, 0, 0.2)',
                                borderColor: '#FFBB00',
                                pointBackgroundColor: '#FFBB00',
                            }, {
                                label: 'Gobiernos',
                                data: [9, 10, 6, 5, 9],
                                fill: true,
                                backgroundColor: 'rgba(244, 0, 0, 0.2)',
                                borderColor: '#F40000',
                                pointBackgroundColor: '#F40000',
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                             ...tooltipConfig.plugins,
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#FFFFFF'
                                }
                            }
                        },
                        scales: {
                            r: {
                                angleLines: { color: 'rgba(255, 255, 255, 0.2)' },
                                grid: { color: 'rgba(255, 255, 255, 0.2)' },
                                pointLabels: { color: '#FFFFFF', font: { size: 12 } },
                                ticks: {
                                    color: '#030C1D', // Color de los ticks, se hace oscuro para que resalte en el fondo claro del tick
                                    backdropColor: 'rgba(255, 255, 255, 0.8)', // Fondo claro para los ticks
                                    stepSize: 2
                                }
                            }
                        }
                    }
                });
                console.log('servicesRadarChart inicializado con éxito.');
            } else {
                console.error('No se encontró el elemento canvas con ID servicesRadarChart.');
            }
            
            // Inicialización del gráfico polar (Visión 360°)
            console.log('Intentando inicializar visionPolarChart.');
            const visionPolarCtx = document.getElementById('visionPolarChart');
            if(visionPolarCtx) {
                new Chart(visionPolarCtx, {
                    type: 'polarArea',
                    data: {
                        labels: ['Vigilancia Territorial', 'Inteligencia Visual', 'Cartografía Estratégica', 'Campañas Aéreas', 'Análisis Digital'],
                        datasets: [{
                            label: 'Visión 360°',
                            data: [8, 9, 7, 6, 10],
                            backgroundColor: [
                                'rgba(255, 187, 0, 0.7)', /* Amarillo con transparencia */
                                'rgba(244, 0, 0, 0.7)', /* Rojo con transparencia */
                                'rgba(255, 255, 255, 0.7)', /* Blanco con transparencia */
                                'rgba(255, 187, 0, 0.5)',
                                'rgba(244, 0, 0, 0.5)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            ...tooltipConfig.plugins,
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#FFFFFF',
                                    font: { size: 14 },
                                    boxWidth: 20
                                }
                            }
                        },
                        scales: {
                            r: {
                                grid: { color: 'rgba(255, 255, 255, 0.2)' },
                                ticks: {
                                    display: false // Oculta los valores de los ticks en el eje radial
                                }
                            }
                        }
                    }
                });
                console.log('visionPolarChart inicializado con éxito.');
            } else {
                console.error('No se encontró el elemento canvas con ID visionPolarChart.');
            }

            // Inicialización del gráfico de barras (Impacto Medible)
            console.log('Intentando inicializar impactBarChart.');
            const impactBarCtx = document.getElementById('impactBarChart');
            if(impactBarCtx) {
                new Chart(impactBarCtx, {
                    type: 'bar',
                    data: {
                        labels: [
                            wrapLabel('Aumento en Percepción Positiva'), /* Envuelve etiquetas largas */
                            wrapLabel('Optimización de Procesos Internos'), 
                            wrapLabel('Mejora en Engagement Digital'), 
                            wrapLabel('Eficiencia en Gestión de Campaña')
                        ],
                        datasets: [{
                            label: '% de Mejora Promedio',
                            data: [35, 50, 45, 30],
                            backgroundColor: ['#FFBB00', '#F40000', '#FFBB00', '#F40000'], /* Colores alternados */
                            borderRadius: 5 /* Bordes redondeados para las barras */
                        }]
                    },
                    options: {
                        indexAxis: 'y', // Hace el gráfico de barras horizontal
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            ...tooltipConfig.plugins,
                            legend: {
                                display: false // No mostrar leyenda para una sola serie de datos
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)' // Líneas de cuadrícula sutiles
                                },
                                ticks: {
                                    color: '#FFFFFF', // Color de los ticks del eje X
                                    callback: function(value) {
                                        return value + '%' // Añade el signo de porcentaje a los ticks
                                    }
                                }
                            },
                            y: {
                                grid: {
                                    display: false // No mostrar líneas de cuadrícula en el eje Y
                                },
                                ticks: {
                                    color: '#FFFFFF', // Color de los ticks del eje Y
                                    font: {
                                        size: 14
                                    }
                                }
                            }
                        }
                    }
                });
                console.log('impactBarChart inicializado con éxito.');
            } else {
                console.error('No se encontró el elemento canvas con ID impactBarChart.');
            }

            // Smooth scrolling para enlaces de anclaje
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault(); // Previene el comportamiento por defecto del enlace
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth' // Desplazamiento suave
                    });
                });
            });

            // Lógica para el formulario de contacto y recomendación de servicio (integración con Gemini API)
            const contactForm = document.getElementById('contactForm');
            const contactSpinner = document.getElementById('contactSpinner');
            const serviceRecommendationOutput = document.getElementById('serviceRecommendationOutput');

            contactForm.addEventListener('submit', async (e) => {
                e.preventDefault(); // Previene el envío del formulario
                contactSpinner.classList.remove('hidden'); // Muestra el spinner
                serviceRecommendationOutput.classList.add('hidden'); // Oculta el output anterior
                serviceRecommendationOutput.innerHTML = ''; // Limpia el contenido anterior

                const message = document.getElementById('contactMessage').value;
                const organization = document.getElementById('contactOrganization').value;

                // Validación básica de campos
                if (!message || !organization) {
                    serviceRecommendationOutput.classList.remove('hidden');
                    serviceRecommendationOutput.innerHTML = '<p class="text-red-400">Por favor, completa el mensaje y la organización para obtener una recomendación.</p>';
                    contactSpinner.classList.add('hidden');
                    return;
                }

                // Preparación del payload para la API de Gemini
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: `Un usuario de PlusPlan ha enviado el siguiente mensaje: '${message}' y su organización es '${organization}'. Basado en nuestros servicios (Inteligencia Artificial y Software, Imagen y Marketing Político, Imagen Pública para Candidatos), ¿cuál de nuestros servicios principales crees que sería más relevante para ellos? Responde con el nombre del servicio y una breve justificación de una frase. Si no es claro, sugiere 'una asesoría personalizada'.` }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // La API Key será inyectada por el entorno de Canvas/Immersive
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    // Realiza la llamada a la API de Gemini
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();

                    // Procesa la respuesta de la API
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        serviceRecommendationOutput.innerHTML = `<p class="font-bold text-accent-yellow">Recomendación de Servicio:</p><p>${text}</p>`;
                    } else {
                        serviceRecommendationOutput.innerHTML = '<p class="text-red-400">No se pudo generar una recomendación en este momento. Inténtalo de nuevo más tarde.</p>';
                    }
                } catch (error) {
                    // Manejo de errores de la llamada a la API
                    serviceRecommendationOutput.innerHTML = `<p class="text-red-400">Error al conectar con la IA: ${error.message}</p>`;
                    console.error('Error en la llamada a la API de Gemini para recomendación de servicio:', error);
                } finally {
                    contactSpinner.classList.add('hidden'); // Oculta el spinner
                    serviceRecommendationOutput.classList.remove('hidden'); // Muestra el output
                }
            });

            // Lógica para generar consejos de liderazgo (integración con Gemini API)
            const generateLeadershipTipBtn = document.getElementById('generateLeadershipTipBtn');
            const leadershipGoalInput = document.getElementById('leadershipGoalInput');
            const leadershipTipSpinner = document.getElementById('leadershipTipSpinner');
            const leadershipTipOutput = document.getElementById('leadershipTipOutput');

            generateLeadershipTipBtn.addEventListener('click', async () => {
                leadershipTipSpinner.classList.remove('hidden'); // Muestra el spinner
                leadershipTipOutput.classList.add('hidden'); // Oculta el output anterior
                leadershipTipOutput.innerHTML = ''; // Limpia el contenido anterior

                const goal = leadershipGoalInput.value;

                // Validación básica de campo
                if (!goal) {
                    leadershipTipOutput.classList.remove('hidden');
                    leadershipTipOutput.innerHTML = '<p class="text-red-400">Por favor, describe tu objetivo de liderazgo.</p>';
                    leadershipTipSpinner.classList.add('hidden');
                    return;
                }

                // Preparación del payload para la API de Gemini
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: `Genera un consejo de liderazgo político o social, conciso y accionable, para alguien que busca '${goal}'. Enfócate en la estrategia o la percepción. Máximo 2-3 frases.` }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // La API Key será inyectada por el entorno de Canvas/Immersive
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    // Realiza la llamada a la API de Gemini
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();

                    // Procesa la respuesta de la API
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        leadershipTipOutput.innerHTML = `<p>${text}</p>`;
                    } else {
                        leadershipTipOutput.innerHTML = '<p class="text-red-400">No se pudo generar un consejo en este momento. Inténtalo de nuevo más tarde.</p>';
                    }
                } catch (error) {
                    // Manejo de errores de la llamada a la API
                    leadershipTipOutput.innerHTML = `<p class="text-red-400">Error al conectar con la IA: ${error.message}</p>`;
                    console.error('Error en la llamada a la API de Gemini para consejo de liderazgo:', error);
                } finally {
                    leadershipTipSpinner.classList.add('hidden'); // Oculta el spinner
                    leadershipTipOutput.classList.remove('hidden'); // Muestra el output
                }
            });
        });
    </script>
</body>
</html>
